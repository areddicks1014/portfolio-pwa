<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/iron-image/iron-image.html">
<link rel="import" href="shared-styles.html">
<link rel="import" href="my-icons.html">

<dom-module id="location-module">
  <template>
    <style include="shared-styles">
      :host {
        display: block
      }
      .container {
        width: 300px;
      }
      .heading {
        color: var(--app-text-primary-color);
        text-transform: uppercase;
        text-shadow: 3px 3px 0 var(--app-text-ghost-shadow);
        margin-left: 8px;
        margin-bottom: 4px;
      }
      .wf {
        height: 75px;
        width: 75px;
      }
      p {
        color: var(--app-text-primary-color);
        text-shadow: 3px 3px 0 var(--app-text-ghost-shadow);
        margin-left: 8px;
        margin-top: 0;
      }
    </style>

    <div class="container">
      <h4 class="heading">Location</h4>
      <p>Russellville, AR</p>
      <h4 class="heading">Time Coding</h4>
      <p>[[timeCoding]]</p>
    </div>

  </template>

  <script>
    /**
     * `location-module` Description
     *
     * @summary ShortDescription.
     * @customElement
     * @polymer
     * @extends {Polymer.Element}
     */
    class LocationModule extends Polymer.Element {
      /**
       * String providing the tag name to register the element under.
       */
      static get is() {
        return 'location-module';
      }

      /**
       * Object describing property-related metadata used by Polymer features
       */
      static get properties() {
        return {
          timeCoding: {
            type: String,
            computed: '_timeSince(2011, 07, 11)'
          }
        };
      }
      _timeSince() {
        var date = new Date('July 07, 2011');
        var seconds = Math.floor((new Date() - date) / 1000);
        var intervalType;

        var interval = Math.floor(seconds / 31536000);
        if (interval >= 1) {
          intervalType = 'year';
        } else {
          interval = Math.floor(seconds / 2592000);
          if (interval >= 1) {
            intervalType = 'month';
          } else {
            // do nothing
          }
        }

        if (interval > 1 || interval === 0) {
          intervalType += 's';
        }

        return interval + ' ' + intervalType;
    }
    }

    window.customElements.define(LocationModule.is, LocationModule);
  </script>
</dom-module>